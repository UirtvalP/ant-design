(("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd=("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd||[]).push([["5ZoYe8pc"],{"5ZoYe8pc":function(e,a,t){t.d(a,"__esModule",{value:!0}),t.d(a,"default",{enumerable:!0,get:function(){return u;}});var n=t("hSu6qSb4"),l=t("8Z0rk4BW"),d=n._(t("WyIMPUJp")),r=t("qdGieaVz");t("_UJJWJzr");let o=d.default.createContext(null),i=({index:e,...a})=>{let[t]=r.Form.useForm();return(0,l.jsx)(r.Form,{form:t,component:!1,children:(0,l.jsx)(o.Provider,{value:t,children:(0,l.jsx)("tr",{...a})})});},s=({title:e,editable:a,children:t,dataIndex:n,record:i,handleSave:s,...u})=>{let[c,m]=(0,d.useState)(!1),f=(0,d.useRef)(null),h=(0,d.useContext)(o);(0,d.useEffect)(()=>{if(c){var e;null===(e=f.current)||void 0===e||e.focus();}},[c]);let x=()=>{m(!c),h.setFieldsValue({[n]:i[n]});},g=async()=>{try{let e=await h.validateFields();x(),s({...i,...e});}catch(e){console.log("Save failed:",e);}},p=t;return a&&(p=c?(0,l.jsx)(r.Form.Item,{style:{margin:0},name:n,rules:[{required:!0,message:`${e} is required.`}],children:(0,l.jsx)(r.Input,{ref:f,onPressEnter:g,onBlur:g})}):(0,l.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:x,children:t})),(0,l.jsx)("td",{...u,children:p});};var u=()=>{let[e,a]=(0,d.useState)([{key:"0",name:"Edward King 0",age:"32",address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:"32",address:"London, Park Lane no. 1"}]),[t,n]=(0,d.useState)(2),o=t=>{let n=e.filter(e=>e.key!==t);a(n);},u=[{title:"name",dataIndex:"name",width:"30%",editable:!0},{title:"age",dataIndex:"age"},{title:"address",dataIndex:"address"},{title:"operation",dataIndex:"operation",render:(a,t)=>e.length>=1?(0,l.jsx)(r.Popconfirm,{title:"Sure to delete?",onConfirm:()=>o(t.key),children:(0,l.jsx)("a",{children:"Delete"})}):null}],c=t=>{let n=[...e],l=n.findIndex(e=>t.key===e.key),d=n[l];n.splice(l,1,{...d,...t}),a(n);},m=u.map(e=>e.editable?{...e,onCell:a=>({record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:c})}:e);return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.Button,{onClick:()=>{let l={key:t,name:`Edward King ${t}`,age:"32",address:`London, Park Lane no. ${t}`};a([...e,l]),n(t+1);},type:"primary",style:{marginBottom:16},children:"Add a row"}),(0,l.jsx)(r.Table,{components:{body:{row:i,cell:s}},rowClassName:()=>"editable-row",bordered:!0,dataSource:e,columns:m})]});};}}]);
//# sourceMappingURL=5ZoYe8pc-async.c3283abd.js.map